{"version":3,"sources":["location_api.js","dom.js","index.js"],"names":["LocationApi","fetch","then","resolve","status","json","Promise","reject","catch","console","log","myIp","Dom","preloader","document","getElementById","inp1","inp2","btn","style","display","coordinates","value","latitude","longitude","locationApi","dom","addEventListener","showPreloader","setTimeout","getMyIp","getMyLocation","ip","setCoordinates","hidePreloader"],"mappings":"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","file":"lesson_21.5871b0c4.map","sourceRoot":"..","sourcesContent":["export default class LocationApi {\r\n    getMyIp() {    \r\n      return fetch(\"https://api.ipify.org?format=json\")\r\n        .then(resolve => {\r\n            if(resolve.status === 200) {\r\n                return resolve.json();\r\n            } else {\r\n                return Promise.reject(resolve.status);\r\n            }\r\n        })\r\n        .catch(reject => {\r\n            console.log('Не удалось получить IP', reject);\r\n        })    \r\n    }\r\n    getMyLocation(myIp) {\r\n        return fetch(`https://freegeoip.net/json/${myIp}`)\r\n            .then(resolve => {\r\n                if(resolve.status === 200) {\r\n                    return resolve.json();\r\n                } else {\r\n                    return Promise.reject(resolve.status);\r\n                } \r\n            })\r\n            .catch(reject => {\r\n                console.log('Не удалось получить координаты', reject);\r\n            })\r\n    }    \r\n}","export default class Dom {\r\n    constructor() {\r\n        const preloader = document.getElementById('preloader');\r\n        const inp1 = document.getElementById('inp1');\r\n        const inp2 = document.getElementById('inp2');\r\n        const btn = document.getElementById('btn');\r\n    }\r\n\r\n    showPreloader () {\r\n        preloader.style.display = 'inline-block';\r\n    }\r\n\r\n    hidePreloader () {\r\n        preloader.style.display = 'none';\r\n    }\r\n\r\n    setCoordinates(coordinates) {\r\n        inp1.value = coordinates.latitude;\r\n        inp2.value = coordinates.longitude;\r\n\r\n    }\r\n}","import LocationApi from './location_api';\r\nimport Dom from './dom';\r\n\r\nconst locationApi = new LocationApi();\r\nconst dom = new Dom();\r\nconst btn = document.getElementById('btn');\r\n\r\nbtn.addEventListener('click', () => {\r\n    dom.showPreloader();\r\n    setTimeout(() => {\r\n        locationApi.getMyIp()\r\n                .then(resolve => locationApi.getMyLocation(resolve.ip))\r\n                .then(coordinates => dom.setCoordinates(coordinates))\r\n                .then(resolved => dom.hidePreloader())\r\n                .catch(rejected => dom.hidePreloader())\r\n    }, 2000)\r\n    \r\n})\r\n"]}